<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel - Smart Door Lock</title>

    <style>
        body{
            margin:0;
            background:#0b1120;
            font-family:Segoe UI;
            color:white;
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
        }

        .container{
            width:420px;
            background:rgba(255,255,255,0.05);
            padding:40px;
            border-radius:20px;
            box-shadow:0 0 35px rgba(245,158,11,0.25);
        }

        h2{
            text-align:center;
            margin-bottom:25px;
            background:linear-gradient(90deg,#f59e0b,#65a30d);
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
        }

        input{
            width:100%;
            padding:12px;
            margin:10px 0;
            border:none;
            border-radius:8px;
            background:rgba(255,255,255,0.08);
            color:white;
            outline:none;
        }

        button{
            width:100%;
            padding:12px;
            margin-top:15px;
            border:none;
            border-radius:8px;
            background:linear-gradient(90deg,#f59e0b,#65a30d);
            color:white;
            cursor:pointer;
            transition:0.3s;
        }

        button:hover{
            box-shadow:0 0 15px rgba(245,158,11,0.5);
        }

        .logout{
            background:#ef4444;
            margin-top:10px;
        }

        .logs{
            margin-top:20px;
            max-height:250px;
            overflow-y:auto;
            background:rgba(255,255,255,0.05);
            padding:15px;
            border-radius:10px;
        }

        .log-item{
            padding:8px;
            border-bottom:1px solid rgba(255,255,255,0.08);
            font-size:14px;
        }

        .success{
            color:#84cc16;
        }

        .fail{
            color:#ef4444;
        }

        .hidden{
            display:none;
        }

        /* Scrollbar */
        .logs::-webkit-scrollbar{
            width:6px;
        }

        .logs::-webkit-scrollbar-thumb{
            background:#f59e0b;
            border-radius:5px;
        }

    </style>
</head>

<body>

<div class="container">

    <!-- Login Section -->
    <div id="loginSection">
        <h2>Admin Login</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <p id="loginStatus"></p>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboardSection" class="hidden">
        <h2>Audit Logs</h2>

        <div class="logs" id="logsContainer">
        </div>

        <button onclick="clearLogs()">Clear Logs</button>
        <button class="logout" onclick="logout()">Logout</button>
    </div>

</div>

<script>

function login(){
    let user=document.getElementById("username").value;
    let pass=document.getElementById("password").value;

    if(user==="admin" && pass==="1234"){
        loginSection.classList.add("hidden");
        dashboardSection.classList.remove("hidden");
        loadLogs();
    }else{
        document.getElementById("loginStatus").innerHTML="Invalid Credentials âŒ";
    }
}

function logout(){

    // Optional: Save logout log
    let logs = JSON.parse(localStorage.getItem("auditLogs")) || [];

    logs.push({
        time: new Date().toLocaleString(),
        step: "Admin Logout",
        status: "Success"
    });

    localStorage.setItem("auditLogs", JSON.stringify(logs));

    // Redirect to main selection page
    window.location.href = "index.html";
}


function loadLogs(){
    let logs=JSON.parse(localStorage.getItem("auditLogs"))||[];
    let container=document.getElementById("logsContainer");
    container.innerHTML="";

    if(logs.length===0){
        container.innerHTML="No Logs Available";
        return;
    }

    logs.reverse().forEach(log=>{
        let div=document.createElement("div");
        div.classList.add("log-item");

        let statusClass=log.status==="Success"?"success":"fail";

        div.innerHTML=`
            <strong>${log.time}</strong><br>
            ${log.step} - 
            <span class="${statusClass}">${log.status}</span>
        `;

        container.appendChild(div);
    });
}

function clearLogs(){
    localStorage.removeItem("auditLogs");
    loadLogs();
}

</script>

</body>
</html>
